{% extends 'base_template.html' %}

{% block content %}
	
	<h1>Quick Contact Search</h1>  
	{% if form.errors %}
	    {% for field in form %}
	        {% for error in field.errors %}
	            <div class="alert alert-error">
	                <strong>{{ error|escape }}</strong>
	            </div>
	        {% endfor %}
	    {% endfor %}
	    {% for error in form.non_field_errors %}
	        <div class="alert alert-error">
	            <strong>{{ error|escape }}</strong>
	        </div>
	    {% endfor %}
	{% endif %}

	<form action='' method='post'>
		{% csrf_token %}
		{{ form.as_p }}
		<button type='submit' value='submit'>Search!</button>
    </form>

    {% if contact_list %}
    <p><h2>Contacts</h2>
    	{% for Contact in contact_list %}
    		<div class="contact">
    			<br><b>Id:</b> {{ Contact.Id }}
    			<br><b>Name: </b>{{ Contact.Name }}
    			<br><b>Email: </b>{{ Contact.Email }}
    			<br><b>Account: </b>{{ Contact.AccountName }}
    		</div>
    	{% endfor %}
    {% elif no_query_result_msg %}
    	<br>{{ no_query_result_msg }}
    {% endif %}

{% endblock %}